(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5491:function(e,t,r){Promise.resolve().then(r.bind(r,4471))},4471:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return F}});var n=r(7437),a=r(2265),i=r(5862),s=r(2674),c=r(4990),o=r(6645),l=r(4691),d=r(7116),u=r(6351),h=r(5945),p=r(8884);let m=["ethereum","usdt","avalanche","bitcoin","tron","chainlink","shib","solana","decentraland","sand"],b=["ethereum","usdC","avalanche","bitcoin","tron","chainlink","shiba-inu","solana","decentraland","the-sandbox"],f={};async function j(){let e=await fetch("https://api.coincap.io/v2/assets"),t=await e.json(),r={};for(let e of m){let n=t.data.find(t=>t.id===e||t.symbol.toLowerCase()===e);if(n){let t=await fetch("https://api.coincap.io/v2/assets/".concat(f[e],"/history?interval=d1")),a=await t.json(),i=[];a.data&&Array.isArray(a.data)?i=a.data.map(e=>parseFloat(e.priceUsd)):console.error("Ge\xe7miş veri bulunamadı: ".concat(f[e]," i\xe7in veri alınamadı.")),r[e.toLowerCase()]={price:Number(n.priceUsd).toFixed(9),name:n.name,symbol:n.symbol,marketValue:(Number(n.marketCapUsd)/1e9).toFixed(2),change24h:Number(n.changePercent24Hr).toFixed(2),priceHistory:i}}}return r}m.forEach((e,t)=>{f[e]=b[t]});let x=e=>{let t=new WebSocket("wss://ws.coincap.io/prices?assets=".concat(b.join(",")));return t.onmessage=function(t){e(JSON.parse(t.data))},t.onclose=function(){console.log("WebSocket connection closed")},()=>{t.close()}};var g=()=>{let[e,t]=(0,a.useState)({}),[r,n]=(0,a.useState)("asc"),[i,s]=(0,a.useState)("price"),[c,o]=(0,a.useState)(""),l=async()=>{t(await j())};return(0,a.useEffect)(()=>{l();let e=setInterval(l,36e5),r=x(e=>{t(t=>{let r={...t};for(let[a,i]of Object.entries(e))if(r[a]){var n;let e=Number(null===(n=t[a])||void 0===n?void 0:n.price),s=Number(i);r[a]={...r[a],price:s.toFixed(2),priceChange:s-e,previousPrice:e}}return r})});return()=>{r(),clearInterval(e)}},[]),{filteredAndSortedData:Object.keys(e).map(t=>({...e[t],id:t})).filter(e=>e.symbol.toLowerCase().includes(c)).sort((e,t)=>{let n=e[i],a=t[i];return"number"==typeof n&&"number"==typeof a?"desc"===r?a-n:n-a:"string"==typeof n&&"string"==typeof a?"desc"===r?a.localeCompare(n):n.localeCompare(a):0}),order:r,orderBy:i,filter:c,handleRequestSort:(e,t)=>{n(i===t&&"asc"===r?"desc":"asc"),s(t)},handleFilterChange:e=>{o(e.target.value.toLowerCase())}}},v=r(8646),y=r(6154),k=r(6648),Z=r(3920);function C(){let e=(0,v._)(["\n  background-color: ",";\n  transition: background-color 0.5s ease-in-out;\n"]);return C=function(){return e},e}let w=(0,y.Z)(d.Z)(C(),e=>{let{changeType:t}=e;return"positive"===t?"#d4edda":"negative"===t?"#f8d7da":"transparent"});var S=e=>{var t;let{row:r}=e,[i,s]=(0,a.useState)(r.priceHistory||[]),[c,o]=(0,a.useState)("neutral"),l=(0,a.useRef)(Number(null!==(t=r.previousPrice)&&void 0!==t?t:r.price));return(0,a.useEffect)(()=>{let e=Number(r.price),t=l.current;if(e!==t){e>t?o("positive"):e<t?o("negative"):o("neutral"),s(t=>{let r=[...t,e];return r.length>20?r.slice(1):r}),l.current=e;let r=setTimeout(()=>o("neutral"),2e3);return()=>clearTimeout(r)}},[r.price]),(0,n.jsxs)(w,{changeType:c,children:[(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(k.default,{src:"https://cdn.bilira.co/symbol/svg/".concat(r.symbol.toLowerCase(),".svg"),alt:"".concat(r.symbol," icon"),width:24,height:24,loading:"lazy",objectFit:"contain",className:"rounded-full"}),r.symbol.toUpperCase()]}),(0,n.jsx)(u.Z,{children:r.name}),(0,n.jsx)(u.Z,{children:r.price}),(0,n.jsx)(u.Z,{children:r.marketValue}),(0,n.jsxs)(u.Z,{style:{color:Number(r.change24h)>=0?"green":"red"},children:[r.change24h,"%"]}),(0,n.jsx)(u.Z,{children:i.length>0?(0,n.jsx)(Z.Sparklines,{data:i,limit:20,children:(0,n.jsx)(Z.SparklinesLine,{color:Number(r.change24h)>=0?"green":"red"})}):(0,n.jsx)(Z.Sparklines,{data:[0,0,0],limit:3,children:(0,n.jsx)(Z.SparklinesLine,{color:Number(r.change24h)>=0?"green":"red",style:{strokeWidth:2,strokeLinecap:"round"}})})})]})},N=()=>{let{filteredAndSortedData:e,order:t,orderBy:r,filter:a,handleRequestSort:m,handleFilterChange:b}=g();return(0,n.jsxs)("div",{children:[(0,n.jsx)(i.Z,{label:"Filter Cryptos",variant:"outlined",value:a,onChange:b,style:{marginBottom:"20px"}}),(0,n.jsx)(s.Z,{component:c.Z,children:(0,n.jsxs)(o.Z,{"aria-label":"crypto table",children:[(0,n.jsx)(l.Z,{className:"",children:(0,n.jsxs)(d.Z,{children:[(0,n.jsx)(u.Z,{children:"Crypto"}),(0,n.jsx)(u.Z,{}),(0,n.jsx)(u.Z,{sortDirection:"price"===r&&t,children:(0,n.jsx)(h.Z,{active:"price"===r,direction:"price"===r?t:"asc",onClick:e=>m(e,"price"),children:"Price (USD)"})}),(0,n.jsx)(u.Z,{children:"Market Value (B USD)"}),(0,n.jsx)(u.Z,{sortDirection:"change24h"===r&&t,children:(0,n.jsx)(h.Z,{active:"change24h"===r,direction:"change24h"===r?t:"asc",onClick:e=>m(e,"change24h"),children:"24h Change"})}),(0,n.jsx)(u.Z,{})]})}),(0,n.jsx)(p.Z,{children:e.map(e=>(0,n.jsx)(S,{row:e},e.id))})]})})]})};function F(){return(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:"Real-Time Crypto Prices"}),(0,n.jsx)(N,{})]})}}},function(e){e.O(0,[856,971,23,744],function(){return e(e.s=5491)}),_N_E=e.O()}]);